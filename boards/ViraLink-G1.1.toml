# SPDX-License-Identifier: Apache-2.0
# Copyright 2026 Vinver, Inc.

[meta]
id = "ViraLink-G1.1"
family = "ViraLink-G1.1"
description = "ViraLink-G1.1 (ESP32, 4MB flash) industrial/IoT controller with RMII Ethernet (ESP32 EMAC), RS485, dual Wiegand inputs, 433MHz RF control pin, GSM power control and I2C with PCF interrupt; includes a reset/boot key."
chip = "esp32"
flash_size = "4MB"
psram = false
tier = "volume"
manifest_version = "1.0"
min_runtime_version = "1.0"

[capabilities]
button = {pin = "system.button_pin", type = "button"}
dac1 = {pin = "system.dac1_pin", type = "dac"}
dac2 = {pin = "system.dac2_pin", type = "dac"}
ethernet = {driver = "drivers.ethernet", type = "ethernet"}
rs485 = {driver = "drivers.rs485", type = "rs485"}
rf433 = {driver = "custom.rf433", type = "custom"}
gsm = {driver = "custom.gsm", type = "custom"}
pcf1 = {driver = "custom.pcf1", type = "custom"}
wiegand1 = {driver = "custom.wiegand1", type = "custom"}
wiegand2 = {driver = "custom.wiegand2", type = "custom"}
ext_io = {driver = "custom.ext_io", type = "custom"}

[system]
led_pin = -1
button_pin = 0
dac1_pin = 25
dac2_pin = 26
reserved_pins = [6, 7, 8, 9, 10, 11]

[system.i2c]
sda = 4
scl = 16
freq = 400000

["drivers.ethernet"]
type = "unknown"
bus = "rmii"
mdc = 23
mdio = 18

["drivers.rs485"]
txd = 32
rxd = 35

["custom.rf433"]
type = "rf_433mhz"
data = 5

["custom.gsm"]
type = "cellular_modem"
pwr_en = 33
uart1_rx = 34
uart1_tx = 15
uart2_rx = 35
uart2_tx = 32

["custom.pcf1"]
type = "gpio_expander_int"
int = 14

["custom.wiegand1"]
type = "wiegand"
d0 = 15
d1 = 34

["custom.wiegand2"]
type = "wiegand"
d0 = 39
d1 = 36

["custom.ext_io"]
type = "external_io"
ext1 = 12
ext2 = 13
